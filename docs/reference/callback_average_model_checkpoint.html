<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Average Model Checkpoint — callback_average_model_checkpoint • tfaddons</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Average Model Checkpoint — callback_average_model_checkpoint" />
<meta property="og:description" content="Save the model after every epoch." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">tfaddons</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.9.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/NMT.html">Bayesian Optimization</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/henry090/tfaddons/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Average Model Checkpoint</h1>
    <small class="dont-index">Source: <a href='https://github.com/henry090/tfaddons/blob/master/R/callbacks.R'><code>R/callbacks.R</code></a></small>
    <div class="hidden name"><code>callback_average_model_checkpoint.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Save the model after every epoch.</p>
    </div>

    <pre class="usage"><span class='fu'>callback_average_model_checkpoint</span>(
  <span class='no'>filepath</span>,
  <span class='no'>update_weights</span>,
  <span class='kw'>monitor</span> <span class='kw'>=</span> <span class='st'>"val_loss"</span>,
  <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>0</span>,
  <span class='kw'>save_best_only</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>save_weights_only</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>mode</span> <span class='kw'>=</span> <span class='st'>"auto"</span>,
  <span class='kw'>save_freq</span> <span class='kw'>=</span> <span class='st'>"epoch"</span>,
  <span class='no'>...</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>filepath</th>
      <td><p>string, path to save the model file.</p></td>
    </tr>
    <tr>
      <th>update_weights</th>
      <td><p>bool, wheteher to update weights or not</p></td>
    </tr>
    <tr>
      <th>monitor</th>
      <td><p>quantity to monitor.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>verbosity mode, 0 or 1.</p></td>
    </tr>
    <tr>
      <th>save_best_only</th>
      <td><p>if `save_best_only=TRUE`, the latest best model according
to the quantity monitored will not be overwritten. If `filepath` doesn't contain
formatting options like `epoch` then `filepath` will be overwritten by each new
better model.</p></td>
    </tr>
    <tr>
      <th>save_weights_only</th>
      <td><p>if TRUE, then only the model's weights will be saved
(`model$save_weights(filepath)`), else the full model is saved (`model$save(filepath)`).</p></td>
    </tr>
    <tr>
      <th>mode</th>
      <td><p>one of auto, min, max. If `save_best_only=TRUE`, the decision to
overwrite the current save file is made based on either the maximization or the
minimization of the monitored quantity. For `val_acc`, this should be `max`, for
`val_loss` this should be `min`, etc. In `auto` mode, the direction is automatically
inferred from the name of the monitored quantity.</p></td>
    </tr>
    <tr>
      <th>save_freq</th>
      <td><p>`'epoch'` or integer. When using `'epoch'`, the callback saves the
model after each epoch. When using integer, the callback saves the model at end of a
batch at which this many samples have been seen since last saving. Note that if the
saving isn't aligned to epochs, the monitored metric may potentially be less reliable
(it could reflect as little as 1 batch, since the metrics get reset every epoch).
Defaults to `'epoch'`</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Additional arguments for backwards compatibility. Possible key is `period`.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>None</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The callback that should be used with optimizers that extend
AverageWrapper, i.e., MovingAverage and StochasticAverage optimizers.
It saves and, optionally, assigns the averaged weights.</p>
    <h2 class="hasAnchor" id="for-example"><a class="anchor" href="#for-example"></a>For example</h2>

    <p>if `filepath` is `weights.epoch:02d-val_loss:.2f.hdf5`,:
then the model checkpoints will be saved with the epoch number and the validation loss in the filename.</p>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Turgut Abdullayev.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


